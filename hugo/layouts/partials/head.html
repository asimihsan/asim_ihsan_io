<head>
    <meta charset="utf-8">

    {{ $title := print .Title " | " .Site.Title }}
    {{ if .IsHome }}{{ $title = .Site.Title }}{{ end }}
    <title>{{ $title }} </title>

    <link rel="canonical" href="{{ .Permalink }}" />
    <meta name="description" content="{{ .Params.meta_description }}">
    <meta name="viewport" content="width=device-width, initial-scale=1" content="user-scalable=yes">
    {{ hugo.Generator }}
    <meta property="og:title" content="{{ .Title }}">
    <meta property="og:type" content="">
    <meta property="og:url" content="{{ .Site.BaseURL | absURL }}">
    <meta property="og:image" content="">

    {{ partial "critical-css.html" . }}

    <link rel="preload" href="/font/firasans-regular-subset.woff2" as="font" type="font/woff2">
    {{ $bulma_css := resources.Get "css/bulma.css" }}
    {{ $custom_css_template := resources.Get "css/template-style.css" }}
    {{ $custom_css := $custom_css_template | resources.ExecuteAsTemplate "css/custom.css" . }}
    {{ $css := slice $bulma_css $custom_css | resources.Concat "css/style.css" | minify | fingerprint }}
    <link rel="preload" as="style" type="text/css" href="{{ $css.Permalink }}" integrity="{{ $css.Data.Integrity }}">
    <link rel="stylesheet" href="{{ $css.Permalink }}" integrity="{{ $css.Data.Integrity }}" media="print" onload="this.media='all'">
    <noscript><link rel="stylesheet" href="{{ $css.Permalink }}" integrity="{{ $css.Data.Integrity }}"></noscript>
    <link rel="preload" href="/font/iosevka-custom-regular-subset.woff2" as="font" type="font/woff2">
    <link rel="preload" href="/font/firasans-bold-subset.woff2" as="font" type="font/woff2">
    <link rel="preload" href="/font/firasans-italic-subset.woff2" as="font" type="font/woff2">
</head>

{{ if eq (getenv "HUGO_ENV") "production" | or (eq .Site.Params.env "production")  }}
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RJ88DZ2STR"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-RJ88DZ2STR');
</script>
{{ end }}
